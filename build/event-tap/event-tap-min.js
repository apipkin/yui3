YUI.add("event-tap",function(a,k){var g=a.config.doc,j=!!(g&&g.createTouch),h=j?"touchstart":"mousedown",i=j?"touchmove":"mousemove",c=j?"touchend":"mouseup",e=j?"touchcancel":"mousecancel",f="tap",b={START:"Y_TAP_ON_START_HANDLE",MOVE:"Y_TAP_ON_MOVE_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"};function d(n,m,o,l){m=o?m:[m.START,m.MOVE,m.END,m.CANCEL];a.Array.each(m,function(q,p,s){var r=n[q];if(r){r.detach();n[q]=null;}});}a.Event.define(f,{on:function(n,m,l){m[b.START]=n.on(h,this.touchStart,this,n,m,l);},detach:function(n,m,l){d(m,b);},delegate:function(o,n,m,l){n[b.START]=o.delegate(h,function(p){this.touchStart(p,o,n,m,true);},l,this);},detachDelegate:function(n,m,l){d(m,b);},touchStart:function(q,p,o,n,m){var l={canceled:false};if(q.button&&q.button===3){return;}if(q.touches&&q.touches.length!==1){return;}l.node=m?q.currentTarget:p;if(j&&q.touches){l.startXY=[q.touches[0].pageX,q.touches[0].pageY];}else{l.startXY=[q.pageX,q.pageY];}o[b.MOVE]=p.once(i,this.touchMove,this,p,o,n,m,l);o[b.END]=p.once(c,this.touchEnd,this,p,o,n,m,l);o[b.CANCEL]=p.once(e,this.touchMove,this,p,o,n,m,l);},touchMove:function(q,p,o,n,m,l){d(o,[b.MOVE,b.END,b.CANCEL],true,l);l.cancelled=true;},touchEnd:function(l,n,s,t,q,m){var p=m.startXY,r,o;if(j&&l.changedTouches){r=[l.changedTouches[0].pageX,l.changedTouches[0].pageY];o=[l.changedTouches[0].clientX,l.changedTouches[0].clientY];}else{r=[l.pageX,l.pageY];o=[l.clientX,l.clientY];}d(s,[b.MOVE,b.END,b.CANCEL],true,m);if(Math.abs(r[0]-p[0])===0&&Math.abs(r[1]-p[1])===0){l.type=f;l.pageX=r[0];l.pageY=r[1];l.clientX=o[0];l.clientY=o[1];l.currentTarget=m.node;t.fire(l);}}});},"@VERSION@",{"requires":["node-base","event-base","event-touch","event-synthetic"]});